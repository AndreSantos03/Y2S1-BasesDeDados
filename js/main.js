const items = [
    "            <div class=\"ticket\">\
    <div class=\"ticket_status_spacer\">\
        <div class=\"ticket_status\">\
            <p>Closed</p>\
        </div>\
    </div>\
    <div class=\"ticket_content\">\
        <div class=\"ticket_title\">\
            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
                <path fill-rule=\"evenodd\"\
                    d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                    clip-rule=\"evenodd\" />\
            </svg>\
            <p>What’s the difference between String and string in C#?</p>\
        </div>\
        <div class=\"ticket_desc\">\
            <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
        </div>\
    </div>\
    <div class=\"ticket_info\">\
        <p>Asked by Lance Fisher 12 jan 12:52</p>\
    </div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Closed</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
    "            <div class=\"ticket\">\
<div class=\"ticket_status_spacer\">\
    <div class=\"ticket_status\">\
        <p>Active</p>\
    </div>\
</div>\
<div class=\"ticket_content\">\
    <div class=\"ticket_title\">\
        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"w-5 h-5\">\
            <path fill-rule=\"evenodd\"\
                d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z\"\
                clip-rule=\"evenodd\" />\
        </svg>\
        <p>What’s the difference between String and string in C#?</p>\
    </div>\
    <div class=\"ticket_desc\">\
        <p>string s = \"Hello world!\"; String s = \"Hello world!\"; …</p>\
    </div>\
</div>\
<div class=\"ticket_info\">\
    <p>Asked by Lance Fisher 12 jan 12:52</p>\
</div>\
</div>",
];

async function GetTickets() {
    const response = await fetch('../api/ticket.api.php');
    return await response.json();
}
const list = document.getElementById("ticket_list");
const pagination = document.getElementById("pagination");

let current_page = 1;

let rows = 5;

function DisplayList(items, wrapper, rows_per_page, page) {
    wrapper.innerHTML = "";
    page--;

    let start = rows_per_page * page;
    let end = start + rows_per_page;
    let paginatedItems = items.slice(start, end);

    for (let i = 0; i < paginatedItems.length; i++) {
        let itemHTML = paginatedItems[i];
        let tempDiv = document.createElement('div');
        tempDiv.innerHTML = itemHTML;
        let item = tempDiv.firstElementChild;

        wrapper.appendChild(item);
    }
}

function SetupPagination(items, wrapper, rows_per_page) {
    wrapper.innerHTML = "";

    let page_count = Math.ceil(items.length / rows_per_page);
    for (let i = 1; i < page_count + 1; i++) {
        let btn = PaginationButton(i, items);
        wrapper.appendChild(btn);
    }
}

function PaginationButton(page, items) {
    let button = document.createElement('button');
    button.innerText = page;

    if (current_page == page) button.classList.add('active');

    button.addEventListener('click', function () {
        current_page = page;
        DisplayList(items, list, rows, current_page);

        let current_btn = document.querySelector('.pagenumbers button.active');
        current_btn.classList.remove('active');

        button.classList.add('active');
    });

    return button;
}

DisplayList(items, list, rows, current_page);
SetupPagination(items, pagination, rows);


let filtersButton = document.getElementById("filtersButton");
let dropdown = document.getElementById("filters_menu");

// Oculta o dropdown inicialmente
dropdown.style.display = "none";

// Adiciona o evento de clique ao botão
filtersButton.addEventListener("click", function () {
    // Verifica o estado atual do dropdown
    if (dropdown.style.display === "none") {
        // Se estiver oculto, mostra o dropdown com "display: flex"
        dropdown.style.display = "flex";
    } else {
        // Se estiver visível, oculta o dropdown
        dropdown.style.display = "none";
    }
});
